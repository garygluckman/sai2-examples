<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Operational Space Position Control</title>
    <link rel="stylesheet" href="./css/library/picnic.min.css" type="text/css">
    <link rel="stylesheet" href="./css/range_input.css" type="text/css">
    <link rel="stylesheet" href="./css/index.css" type="text/css">
    <link rel="stylesheet" href="./css/chosen.min.css" type="text/css">

    <!-- External library includes -->
    <script src="./js/library/jquery-3.3.1.min.js" type="text/javascript"></script>
    <script src="./js/library/chosen.jquery.min.js" type="text/javascript"></script>
    <script src="./js/library/echarts.min.js" type="text/javascript"></script>

    <!-- sai2 utility modules - must come first!  -->
    <script type="module" src="./js/const.js"></script>
    <script type="module" src="./js/redis.js"></script>

    <!-- sai2 custom UI elements -->
    <script type="module" src='./js/module/sai2-interface-logger.js'></script>
    <script type="module" src="./js/module/sai2-interface-slider.js"></script>
    <script type="module" src="./js/module/sai2-interface-select.js"></script>
    <script type="module" src="./js/module/sai2-interface-toggle.js"></script>
    <script type="module" src="./js/module/sai2-interface-plot.js"></script>
    <script type="module" src="./js/module/sai2-interface-enum.js"></script>

    <!-- global execution scripts -->
    <script type="module "src="./js/index.js"></script>
  </head>
  <body>
    <div class="title">
      <select id="example-selector">
        <option value="./examples/01-non_redundant_arm.html">01-non_redundant_arm</option>
      </select>
      <img src="./images/operational_space.png" />
    </div>
    <div id="example-container">
    </div>
  </body>

  <!-- Initialize example selector -->
  <script>
    let example_selector = document.getElementById('example-selector');
    let example_container = document.getElementById('example-container');

    let load_example = e => {
      // note: browsers will cache the example HTML: do not let them
      fetch(e.target.value, { cache: 'no-store' })
        .then(response => response.text())
        .then(text => example_container.innerHTML = text)
        .catch(error => console.log(error));
    };

    example_selector.onchange = load_example;

    // force call load_example to load initial selected value
    // default event handler looks in e.target.value
    load_example({
      target: { value: example_selector.value }
    });
  </script>
</html>